% !TEX root = ../HSRTReport.cls
% ==============================================================================
% Sections Configuration Module
% ==============================================================================
% Description: Section formatting and styling for chapters, sections, subsections
% Author: Frederik Beimgraben
% License: Creative Commons CC BY 4.0
% ==============================================================================

% ==============================================================================
% Required Packages
% ==============================================================================
\RequirePackage{xcolor}

% ==============================================================================
% Section Font Configuration
% ==============================================================================
% Set font for all sectioning commands (disposition)
\setkomafont{disposition}{\blenderfont\bfseries}

% Configure individual section level fonts
\setkomafont{chapter}{\LARGE\blenderfont\bfseries}
\setkomafont{section}{\Large\blenderfont\bfseries}
\setkomafont{subsection}{\large\blenderfont\bfseries}
\setkomafont{subsubsection}{\large\blenderfont\bfseries}

% ==============================================================================
% Make current section/chapter name available as \Chaptername, \Sectionname,
% \Subsectionname, \Subsubsectionname
% ==============================================================================
\let\Chaptermark\chaptermark
\def\chaptermark#1{\def\Chaptername{#1}\Chaptermark{#1}}
\let\Sectionmark\sectionmark
\def\sectionmark#1{\def\Sectionname{#1}\Sectionmark{#1}}
\let\Subsectionmark\subsectionmark
\def\subsectionmark#1{\def\Subsectionname{#1}\Subsectionmark{#1}}
\let\Subsubsectionmark\subsubsectionmark
\def\subsubsectionmark#1{\def\Subsubsectionname{#1}\Subsubsectionmark{#1}}

% ==============================================================================
% Section Spacing Configuration
% ==============================================================================
% Redefine chapter spacing with more generous vertical spacing
\RedeclareSectionCommand[
	beforeskip=3ex plus 1ex minus 0.5ex,  % Larger space before chapter (approx. 3 lines)
	afterskip=1.5ex plus 0.3ex,           % Larger space after chapter
	style=section                         % Use section style
]{chapter}

% Redefine spacing for sections, subsections, and subsubsections
% Significantly increased vertical spacing before sections and subsections for better visual separation
\RedeclareSectionCommand[
	beforeskip=4.5ex plus 1.5ex minus 0.5ex, % Very large space before section (approx. 4-5 lines)
	afterskip=1.5ex plus 0.3ex,              % Generous space after section
]{section}

\RedeclareSectionCommand[
	beforeskip=3.5ex plus 1ex minus 0.5ex,   % Large space before subsection (approx. 3-4 lines)
	afterskip=1ex plus 0.2ex,                % Good space after subsection
]{subsection}

\RedeclareSectionCommand[
	beforeskip=2ex plus 0.5ex minus 0.3ex,   % Moderate space before subsubsection
	afterskip=0.8ex plus 0.1ex,              % Space after subsubsection
]{subsubsection}

% Add additional vertical spacing adjustments
\setlength{\parskip}{0.8ex plus 0.2ex minus 0.1ex}  % Slightly increase paragraph spacing

% ==============================================================================
% Decorative Elements
% ==============================================================================
% Decorative rule for visual separation
\newcommand{\decoRule}{\rule{.8\textwidth}{.4pt}}

% ==============================================================================
% Counter Configuration
% ==============================================================================
% Configure figure and table numbering to include chapter number
% Format: Chapter.Number (e.g., 2.3 for third figure in chapter 2)
\counterwithin{figure}{chapter}
\counterwithin{table}{chapter}

% Keep equation counter independent of chapters
\counterwithout{equation}{chapter}

% Redefine the format to show as "Chapter.Number" instead of "Chapter:Number"
\renewcommand{\thefigure}{\thechapter.\arabic{figure}}
\renewcommand{\thetable}{\thechapter.\arabic{table}}

% ==============================================================================
% End of Sections Configuration Module
% ==============================================================================
