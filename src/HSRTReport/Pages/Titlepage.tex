% !TEX root = ../../../../Main.tex

\newcommand{\createdon}[1]{\gdef\@createdon{#1}}


% ==============================================================================
% Title Page Data Management
% ==============================================================================
% Token register to store title page data
\newtoks\titlePageData
\def\tand{&}
\titlePageData={\tand}

% Add vertical space to title page data
\DeclareRobustCommand{\AddTitlePageDataSpace}[1]{
	\titlePageData=\expandafter{\the\titlePageData \vspace{#1}}
}

% Add a data line to title page (key-value pair)
\DeclareRobustCommand{\AddTitlePageDataLine}[2]{
	\titlePageData=\expandafter{\the\titlePageData\\ \textbf{#1}\tand #2}
}

% Get formatted title page data table
\DeclareRobustCommand{\GetTitlePageDataTable}{
	\begin{tabular}{@{} p{70mm} p{\textwidth-30mm-2\tabcolsep}}
		\the\titlePageData
	\end{tabular}
}

\renewcommand{\maketitle}{
	\providecommand{\titlepageabstract}{%
	...
	}
	\providecommand{\titlepagekeywords}{%
	...
	}
	\setlength{\imageHeight}{2cm*\real{\mainLogoScale}*\real{\logosScale}}
	\begin{titlepage}
	  \thispagestyle{scrheadings}
		\begin{tikzpicture}[overlay, remember picture]
			\node[anchor=north west, inner sep=0pt, xshift=\leftmargin, yshift=-1.5cm, opacity=0] (logo0) at (current page.north west) {
				\includegraphics[height=\imageHeight]{\imagesPath/DUMMY_FOOT.png}
			};
			\foreach \i in {1,...,\value{logoCounter}} {
					% Calculate name for i-1
					\pgfmathtruncatemacro{\prev}{\i-1}
					\node[anchor=west, inner sep=0pt, xshift=0.5cm] (logo\i) at (logo\prev.east) {
						\makeatletter
						\testarray{LogosScales}(\i)
						\setlength{\imageHeight}{1.5cm*\real{\temp@macro}*\real{\logosScale}}
						\testarray{LogosPaths}(\i)
						\begin{tikzpicture}
							\node[] {
								\includegraphics[height=\imageHeight]{\logospath\temp@macro.pdf}
							};
						\end{tikzpicture}
						\makeatother
					};
				}
		\end{tikzpicture}

		\vspace{2cm}

		\begin{flushleft}
			% title
			{
				\noindent
				\color{black}\textbf{
					\blenderfont\Huge\hspace*{-2.5pt}\@title
				}
			}
			\color{black}
			\vspace*{-0.5em}
			\rule{\textwidth}{0.5mm}
		\end{flushleft}

		% abstract
		\vspace{1em}
		\setstretch{1.0}
		\vspace{-1em}
		\titlepageabstract

		\vfill
		% table
		\noindent
		\setstretch{1.0}

		\GetTitlePageDataTable
	\end{titlepage}
}
